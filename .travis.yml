language: common-lisp
sudo: required

python:
  - 2.7

env:
  matrix:
    - LISP=sbcl

branches:
  only:
    - master

install:
  - curl -L https://github.com/luismbo/cl-travis/raw/master/install.sh | sh

script:
  - make test
  - sbcl --script src/main.lisp -l <(python npuzzle-gen.py --solvable 3)
  - sbcl --script src/main.lisp -l <(python npuzzle-gen.py --solvable 4)
  - sbcl --script src/main.lisp -l <(python npuzzle-gen.py --solvable 5)
  - sbcl --script src/main.lisp -l <(python npuzzle-gen.py --unsolvable 3)
  - sbcl --script src/main.lisp -l <(python npuzzle-gen.py --unsolvable 4)
  - sbcl --script src/main.lisp -l <(python npuzzle-gen.py --unsolvable 5)
